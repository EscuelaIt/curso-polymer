<link rel="import" href="./element-lifecycle-behavior.html">

<dom-module id="element-lifecycle">
  <template>
    <p>Name: <span>{{completeName}}</span></p>
    <p>Prueba: <span>{{test.prueba}}</span></p>
  </template>
</dom-module>

<script>
    var myEl = Polymer({

      is: 'element-lifecycle',

      behaviors: [
        //Polymer.lifecycleBehavior
      ],

      properties: {
        debug: {
          type: Boolean,
          value: true
        },

        firstName: {
          type: String,
          notify: true
        },
        surname: {
          type: String,
          notify: true
        },
        completeName: {
          type: String,
          computed: '_completeName(firstName, surname)'
        },

        test: {
          type: Object,
          notify: true,
          value: function(){
            return {
              prueba: 1
            };
          }
        },
      },
      _completeName: function() {
        return this.firstName + ' ' + this.surname;
      },

      /*
      //Lo mismo que el behavior
      created: function() {
        this._log(this._logf('element', this.id + ' was created'));
      },

      ready: function() {
        if( this.debug ) {
          this._log(this._logf('element', this.id + ' is ready'));
        }
      },

      factoryImpl: function(){
        if( this.debug ) {
          this._log(this._logf('element', this.id + ' was factoryImpl'));
        }
      },
      attached: function() {
        if( this.debug ) {
          this._log(this._logf('element', this.id + ' was attached'));
        }
      }
      detached: function() {
        if( this.debug ) {
          this._log(this._logf('element', this.id + ' was detached'));
        }
      },

      attributeChanged: function(name, oldValue, value) {
        if( this.debug ) {
          this._log(this._logf('element', this.id + ' attribute ' + name + ' was changed from ' + oldValue + ' to ' + value));
        }
      },

      myFun: function(){
        for(var i in this.behaviors ) {
          if(this.behaviors[i].myFun && typeof this.behaviors[i].myFun === 'function') {
            this.behaviors[i].myFun.call(this, arguments);
          }
        }
        this._log(this._logf('element', 'myFun'));
      }
      */
    });

    /*
    var myNewEl = new myEl();
    myNewEl.id = 'myNewEl';
    document.body.appendChild(myNewEl);
    */
  </script>